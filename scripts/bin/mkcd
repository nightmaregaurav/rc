#!/usr/bin/env python3

import os
import sys

script_name = os.path.basename(sys.argv[0])

HELP_MSG = f"""Usage: {script_name} <directory>

Creates a directory and changes into it (if run in an interactive shell).

Examples:
  {script_name} new_folder
"""

# Show help
if len(sys.argv) > 1 and sys.argv[1] in ("--help", "-h"):
    print(HELP_MSG)
    sys.exit(0)

# Check arguments
if len(sys.argv) != 2:
    print("Invalid number of arguments.")
    print(f"Try '{script_name} --help' for more information.")
    sys.exit(1)

directory = sys.argv[1]

# Create directory and switch to it
try:
    os.makedirs(directory, exist_ok=True)
    os.chdir(directory)
except Exception as e:
    print(f"Error: {e}")
    sys.exit(1)

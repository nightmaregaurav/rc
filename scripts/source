PATH="$current_rc_script_dir/scripts/bin:$PATH"

# Ensure scripts are executable
chmod 755 "$current_rc_script_dir/scripts/bin/"*

# Make sure all completion functions are sourced
# these files will be generated once register-rc-completions is run
if [ -d "$current_rc_script_dir/scripts/completions" ]; then
    for f in "$current_rc_script_dir"/scripts/completions/*-completion.sh; do
        [ -r "$f" ] && source "$f"
        [ -r "$f" ] && benchmark "Sourced completions/$(basename "$f")"
    done
fi

benchmark "Setup rc command completions"